mutation SetMangaInLibrary($id: Int!, $inLibrary: Boolean!) {
  updateManga(input: {id: $id, patch: {inLibrary: $inLibrary}}) {
    clientMutationId
  }
}

query LibraryUpdateStatus {
  libraryUpdateStatus {
    categoryUpdates {
      ...CategoryUpdateFragment
    }
    jobsInfo {
      ...UpdaterJobsInfoFragment
    }
    mangaUpdates {
      ...MangaUpdateFragment
    }
  }
}

subscription LibraryUpdateStatusChanged($maxUpdates: Int = 30) {
  libraryUpdateStatusChanged(input: {maxUpdates: $maxUpdates}) {
    initial {
      categoryUpdates {
        ...CategoryUpdateFragment
      }
      jobsInfo {
        ...UpdaterJobsInfoFragment
      }
      mangaUpdates {
        ...MangaUpdateFragment
      }
    }
    categoryUpdates {
      ...CategoryUpdateFragment
    }
    mangaUpdates {
      ...MangaUpdateFragment
    }
    jobsInfo {
      ...UpdaterJobsInfoFragment
    }
    omittedUpdates
  }
}
